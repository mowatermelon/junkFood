
阮一峰的网络日志 ? 首页 ? 档案

    上一篇：ES6 的功能侦测库 
    下一篇：Flex 布局教程：实

分类：

    开发者手册 

Flex 布局教程：语法篇

作者： 阮一峰

日期： 2015年7月10日

网页布局（layout）是CSS的一个重点应用。

布局的传统解决方案，基于盒状模型，依赖 display属性 + position属性 + float属性。它对于那些特殊布局非常不方便，比如，垂直居中就不容易实现。

2009年，W3C提出了一种新的方案----Flex布局，可以简便、完整、响应式地实现各种页面布局。目前，它已经得到了所有浏览器的支持，这意味着，现在就能很安全地使用这项功能。

Flex布局将成为未来布局的首选方案。本文介绍它的语法，下一篇文章给出常见布局的Flex写法。

以下内容主要参考了下面两篇文章：A Complete Guide to Flexbox 和 A Visual Guide to CSS3 Flexbox Properties。
一、Flex布局是什么？

Flex是Flexible Box的缩写，意为"弹性布局"，用来为盒状模型提供最大的灵活性。

任何一个容器都可以指定为Flex布局。


    .box{
      display: flex;
    }

行内元素也可以使用Flex布局。


    .box{
      display: inline-flex;
    }

Webkit内核的浏览器，必须加上-webkit前缀。


    .box{
      display: -webkit-flex; /* Safari */
      display: flex;
    }

注意，设为Flex布局以后，子元素的float、clear和vertical-align属性将失效。
二、基本概念

采用Flex布局的元素，称为Flex容器（flex container），简称"容器"。它的所有子元素自动成为容器成员，称为Flex项目（flex item），简称"项目"。

容器默认存在两根轴：水平的主轴（main axis）和垂直的交叉轴（cross axis）。主轴的开始位置（与边框的交叉点）叫做main start，结束位置叫做main end；交叉轴的开始位置叫做cross start，结束位置叫做cross end。

项目默认沿主轴排列。单个项目占据的主轴空间叫做main size，占据的交叉轴空间叫做cross size。
三、容器的属性

以下6个属性设置在容器上。

        flex-direction
        flex-wrap
        flex-flow
        justify-content
        align-items
        align-content

3.1 flex-direction属性

flex-direction属性决定主轴的方向（即项目的排列方向）。


    .box {
      flex-direction: row | row-reverse | column | column-reverse;
    }

它可能有4个值。

        row（默认值）：主轴为水平方向，起点在左端。
        row-reverse：主轴为水平方向，起点在右端。
        column：主轴为垂直方向，起点在上沿。
        column-reverse：主轴为垂直方向，起点在下沿。

3.2 flex-wrap属性

默认情况下，项目都排在一条线（又称"轴线"）上。flex-wrap属性定义，如果一条轴线排不下，如何换行。


    .box{
      flex-wrap: nowrap | wrap | wrap-reverse;
    }

它可能取三个值。

（1）nowrap（默认）：不换行。

（2）wrap：换行，第一行在上方。

（3）wrap-reverse：换行，第一行在下方。

3.3 flex-flow

flex-flow属性是flex-direction属性和flex-wrap属性的简写形式，默认值为row nowrap。


    .box {
      flex-flow: <flex-direction> || <flex-wrap>;
    }

3.4 justify-content属性

justify-content属性定义了项目在主轴上的对齐方式。


    .box {
      justify-content: flex-start | flex-end | center | space-between | space-around;
    }

它可能取5个值，具体对齐方式与轴的方向有关。下面假设主轴为从左到右。

        flex-start（默认值）：左对齐
        flex-end：右对齐
        center： 居中
        space-between：两端对齐，项目之间的间隔都相等。
        space-around：每个项目两侧的间隔相等。所以，项目之间的间隔比项目与边框的间隔大一倍。

3.5 align-items属性

align-items属性定义项目在交叉轴上如何对齐。


    .box {
      align-items: flex-start | flex-end | center | baseline | stretch;
    }

它可能取5个值。具体的对齐方式与交叉轴的方向有关，下面假设交叉轴从上到下。

        flex-start：交叉轴的起点对齐。
        flex-end：交叉轴的终点对齐。
        center：交叉轴的中点对齐。
        baseline: 项目的第一行文字的基线对齐。
        stretch（默认值）：如果项目未设置高度或设为auto，将占满整个容器的高度。

3.6 align-content属性

align-content属性定义了多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用。


    .box {
      align-content: flex-start | flex-end | center | space-between | space-around | stretch;
    }

该属性可能取6个值。

        flex-start：与交叉轴的起点对齐。
        flex-end：与交叉轴的终点对齐。
        center：与交叉轴的中点对齐。
        space-between：与交叉轴两端对齐，轴线之间的间隔平均分布。
        space-around：每根轴线两侧的间隔都相等。所以，轴线之间的间隔比轴线与边框的间隔大一倍。
        stretch（默认值）：轴线占满整个交叉轴。

四、项目的属性

以下6个属性设置在项目上。

        order
        flex-grow
        flex-shrink
        flex-basis
        flex
        align-self

4.1 order属性

order属性定义项目的排列顺序。数值越小，排列越靠前，默认为0。


    .item {
      order: <integer>;
    }

4.2 flex-grow属性

flex-grow属性定义项目的放大比例，默认为0，即如果存在剩余空间，也不放大。


    .item {
      flex-grow: <number>; /* default 0 */
    }

如果所有项目的flex-grow属性都为1，则它们将等分剩余空间（如果有的话）。如果一个项目的flex-grow属性为2，其他项目都为1，则前者占据的剩余空间将比其他项多一倍。
4.3 flex-shrink属性

flex-shrink属性定义了项目的缩小比例，默认为1，即如果空间不足，该项目将缩小。


    .item {
      flex-shrink: <number>; /* default 1 */
    }

如果所有项目的flex-shrink属性都为1，当空间不足时，都将等比例缩小。如果一个项目的flex-shrink属性为0，其他项目都为1，则空间不足时，前者不缩小。

负值对该属性无效。
4.4 flex-basis属性

flex-basis属性定义了在分配多余空间之前，项目占据的主轴空间（main size）。浏览器根据这个属性，计算主轴是否有多余空间。它的默认值为auto，即项目的本来大小。


    .item {
      flex-basis: <length> | auto; /* default auto */
    }

它可以设为跟width或height属性一样的值（比如350px），则项目将占据固定空间。
4.5 flex属性

flex属性是flex-grow, flex-shrink 和 flex-basis的简写，默认值为0 1 auto。后两个属性可选。


    .item {
      flex: none | [ <'flex-grow'> <'flex-shrink'>? || <'flex-basis'> ]
    }

该属性有两个快捷值：auto (1 1 auto) 和 none (0 0 auto)。

建议优先使用这个属性，而不是单独写三个分离的属性，因为浏览器会推算相关值。
4.6 align-self属性

align-self属性允许单个项目有与其他项目不一样的对齐方式，可覆盖align-items属性。默认值为auto，表示继承父元素的align-items属性，如果没有父元素，则等同于stretch。


    .item {
      align-self: auto | flex-start | flex-end | center | baseline | stretch;
    }

该属性可能取6个值，除了auto，其他都与align-items属性完全一致。

（完）
文档信息

    版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）
    发表日期： 2015年7月10日
    更多内容： 档案 ? 开发者手册
    购买文集： 《如何变得有思想》
    社交媒体： twitter， weibo
    Feed订阅：

珠峰培训

简寻
相关文章

    2016.07.04: YAML 语言教程
    编程免不了要写配置文件，怎么写配置也是一门学问。
    2016.07.02: 谷歌的代码管理
    谷歌和 Facebook 都只有一个代码仓库，全公司的代码都放在这个库里。
    2016.06.10: CSS Modules 用法教程
    学过网页开发就会知道，CSS 不能算编程语言，只是网页样式的一种描述方法。
    2016.03.08: Systemd 入门教程：实战篇
    上一篇文章，我介绍了 Systemd 的主要命令，今天介绍如何使用它完成一些基本的任务。

广告（购买广告位）
一灯学堂

智能社

IvyMobi
留言（78条）

云墨雪 说：

坐个沙发, ie10的普及率还有待观望啊..

王永起 说：

四、容器的属性，应该是“项目的属性”吧？

阮一峰 说：

@王永起，

谢谢指出，已经改正。

一月31 说：

好文章，简单明了。

Henry 说：

听说博主是搞经济出身的，居然没有一篇经济类的文章，真想问博主炒股不？

chshouyu 说：

现在介绍有点晚了吧-_-#

Overtrue 说：

赞，终于在您这儿看明白了，谢谢！

chenjia404 说：

谢谢分享，新的开发技术，使我们开发者越来越方便了。

shikelong 说：

flex布局除了响应不同页面之外，还有什么优点呢？

KevinSu 说：

简单明了，配图很赞！

liaotonglang 说：

看标题还以为是讲编译器，兴冲冲点进来。不过并不失望，最近做课程设计正好需要这个。博主配图好漂亮。

Soli 说：

属性名字起的很别扭哈。

imskull 说：

多谢，很不错的文章，一直都用Polymer预定义的flex排版（"layout horizontal center"这样），看完才知道原来flex还有其它这些功能。

旭 说：

wow! @砘锾用了!
grid layout framework 不知道是否重了

WINE 说：

长见识了

temp 说：

进了阿里，写文章不精致了。

大个 说：

阮大神啊，flex-basis，这个属性的作用是优先级高于width的width吗？它除了设置宽度的作用还有什么用处？（宽度指的是水平方向，如果是垂直方向就是height了）。

longfei 说：

阮老师，那个item的flex-grow属性，我写了个demo
CSS:
body{margin:0;}
ul,li{margin:0; padding:0;}
li{list-style-type:none;}
#list{border:2px solid gold; height:500px; display:flex; flex-direction:row;}
#list li{font-family:"microsoft yahei"; font-size:50px; background:#C00; color:#fff; margin:2px; flex-grow:1;}
#list li:nth-child(2){flex-grow:2;}

<ul id="list">
<li>test1</li>
<li>test2</li>
<li>test3</li>
</ul>
结果第2个li所占的宽度并不是其它li的2倍，为什么呢？比其它两个要大，但不足2倍。

夜幕下的猫 说：

写的非常好！我用来弄我的 zhihu-daily-reader 布局了，嘿嘿！

阮一峰 说：

@longfei:

flex-basis都设为0，因为flex-grow定义的是，剩余空间分配的比例关系。

victor 说：

兼容性是大问题！

coffce 说：

Nice！看了这篇文后我写了个基于flex的栅格布局库 flex-layout
https://github.com/Coffcer/flex-layout

dubbo 说：

有了这个以后可以真正的告别table了。

夜愿 说：

阮老师，align-items：flex-start和align-items:flex:end 的图弄反了

第二梦 说：

您发表的每篇文章,都是那么的善于理解,一目了然,看着很轻松并且感觉学到了知识;非常感觉,看了您的很多文章觉得不评论支持一下过意不去.

广州哈哥 说：

阮老师，您好，我是0基础开始学习flex,今天看了你的这篇博文，发现有个地方好像你给弄反了。就是justify-content和align-items这两个属性。我试过了，其实，前者是设置项目在交叉轴上的对齐方式的，而后者是设置项目在主轴上的对齐方式的。

六翼 说：

    引用阮一峰的发言：

    @longfei:

    flex-basis都设为0，因为flex-grow定义的是，剩余空间分配的比例关系。

那请问不设为0的时候它是多少呢？看您的原文里是“auto”，但这个auto是怎么计算的？

ixoixo 说：

能不能好好解释下flex-grow flex-shrink flex-basis的用法，网上的各种解释感觉都不好理解

年华果腹 说：

想学习flex的相关知识，找了几篇文章大概看了一下，觉得都不满意，突然在google上发现文章后面带有阮老师标识的文章，于是默默把其他的几篇文章的tab都关了

phc 说：

    引用广州哈哥的发言：

    阮老师，您好，我是0基础开始学习flex,今天看了你的这篇博文，发现有个地方好像你给弄反了。就是justify-content和align-items这两个属性。我试过了，其实，前者是设置项目在交叉轴上的对齐方式的，而后者是设置项目在主轴上的对齐方式的。

我不知道自己理解的对不对，但是我觉得主轴的话也就是项目的排布方向，加入是水平排布，那么交叉轴即是垂直方向的，设置align-items:stretch；的话确实是在垂直方向上拉伸的，那align-itmes就是设置交叉轴的吧

大海的子民 说：

如果我把子元素按照固定像素来分配，是否可以（就是替换现在的float布局），还是子元素用width吗？

Jasmine 说：

很好用的布局，学习了！

Citrus 说：

多次过来学习，非常感谢。

professorz 说：

flex-direction 图片顺序和文字顺序是不是不一样呀。

ppYoung 说：

原来是css-tricks上的文章翻译过来的，为什么不做说明
传送门：https://css-tricks.com/snippets/css/a-guide-to-flexbox/

巫婆 说：

我每次写项目的时候也考虑过用flex布局，但是有的手机上显示不谦容。我到现在都不知道该怎么解决。

wcg 说：

@mixin flex(){
display: -webkit-box; /* OLD - iOS 6-, Safari 3.1-6 */
display: -moz-box; /* OLD - Firefox 19- (buggy but mostly works) */
display: -ms-flexbox; /* TWEENER - IE 10 */
display: -webkit-flex; /* NEW - Chrome */
display: flex; /* NEW, Spec - Opera 12.1, Firefox 20+ */
}
body{
@include flex();
flex: 1;
justify-content: center;
align-items: center;
flex-direction: column;
}
#main{
@include flex();
height: 400px;
width: 1200px;
background-color: red;
}
div #main 并不会居中

lomin 说：

想问一下，微信的内置浏览器是不是不支持这个属性啊。。我写了一个。在电脑上用chrome浏览器有用。在微信上没用了

wing-kai 说：

    引用lomin的发言：

    想问一下，微信的内置浏览器是不是不支持这个属性啊。。我写了一个。在电脑上用chrome浏览器有用。在微信上没用了

微信的话用display: box

littelbowl 说：

感谢科普，跟着demo学习下来很有收获。

小天312 说：

移动端的兼容应该没有什么大问题了吧。可以在团队开发时候推广了吧？

Silvers ・ Rayleigh 说：

    引用longfei的发言：

    阮老师，那个item的flex-grow属性，我写了个demo
    CSS:
    body{margin:0;}
    ul,li{margin:0; padding:0;}
    li{list-style-type:none;}
    #list{border:2px solid gold; height:500px; display:flex; flex-direction:row;}
    #list li{font-family:"microsoft yahei"; font-size:50px; background:#C00; color:#fff; margin:2px; flex-grow:1;}
    #list li:nth-child(2){flex-grow:2;}

    <ul id="list">
    <li>test1</li>
    <li>test2</li>
    <li>test3</li>
    </ul>
    结果第2个li所占的宽度并不是其它li的2倍，为什么呢？比其它两个要大，但不足2倍。

这里是你理解错了，3个 li 平分下来每个是1/3。
你想实现的2个相等，1个宽度是其他2个的两倍实际上就是4个 li 平分，其中2个合并成1个，所以每个 li 是1/4，也就是#list li:nth-child(2){flex-grow:3;}

Silvers ・ Rayleigh 说：

    引用巫婆的发言：

    我每次写项目的时候也考虑过用flex布局，但是有的手机上显示不谦容。我到现在都不知道该怎么解决。

不兼容可以用 display:box 试试看

村小闹 说：

    引用广州哈哥的发言：

    阮老师，您好，我是0基础开始学习flex,今天看了你的这篇博文，发现有个地方好像你给弄反了。就是justify-content和align-items这两个属性。我试过了，其实，前者是设置项目在交叉轴上的对齐方式的，而后者是设置项目在主轴上的对齐方式的。

是你自己弄错了好吧~

无双 说：

http://flexboxin5.com/
博士哥与我本科生一站

jingsam 说：

3.1 节关于 flex-direction 的部分，代码和图不是一一对应的。

大果子 说：

我就看看能不能发表成功

cc 说：

flex-wrap: wrap;
在微信内置浏览器中无效！

cc 说：

    引用cc的发言：

    flex-wrap: wrap;
    在微信内置浏览器中无效！


autoprefixer({browsers: ['last 10 version']})
这样都无效！

cc 说：

    引用cc的发言：


    autoprefixer({browsers: ['last 10 version']})
    这样都无效！

换个写法吧，历史的倒退！shit!

SHUSHU 说：

谢谢老师讲解，之前的一些困惑现在看明白了

杨继坤 说：

厉害

yanhaijing 说：

棒棒的

wlq 说：

阮老师，item翻译成项目感觉怪怪的，没有直接用item好理解点

麦当真 说：

一峰老师，我简直不能更加感激您，也非常崇拜您。哇唔，我猜您已经将技术看作是艺术了吧！！！现在好多程序员生活都比较枯燥（我猜他们和我一样，嘻嘻）（每天都很忙，技术更新快，提升自己的技术还要完成项目），灵魂也很干涸（因为很忙，所以太少的时间感受生活，去吸取技术之外的东西来滋养我们的灵魂）。然而每次看您的博文，我就感觉自己经历了一场与艺术的邂逅，不仅学习了知识，还让我得以短暂的放松，让我的心灵经历了一次奇妙的旅行，然后再元气满满，整装继续上路。非常感谢您的分享，您无私的指引，以及心灵的关怀。

MZ 说：

    引用阮一峰的发言：

    @longfei:

    flex-basis都设为0，因为flex-grow定义的是，剩余空间分配的比例关系。

flex-basis设为0，那项目的初始大小是多大？

善心法西斯 说：

很清楚，一目了然

曾胜荣 说：

请问flex在任何浏览器都能用吗，有没有兼容性的问题

赖俊杰 说：

老师的文章写得总是那么易懂

林明哲 说：

图片很好！点赞。flex在安卓原生开发上也有了支持库。https://github.com/google/flexbox-layout

Christopher 说：

前端自学者受用了，谢谢！

walle 说：

好的老师不仅要学会知识，还要讲得通俗易懂，阮老师就是这样的老师

react-native-android 说：

flex-direction这个属性的默认值是row吗？这样的话是不是默认情况下，item就是横向排列了。但是。我在做的过程中发现，如果不写flex-direction属性的话，item是竖向排列的

laoyur 说：

还是没看明白align-content跟justify-content的区别 :(

落雨收柴 说：

老师，怎样使用flex布局使得两个组件的一部分重叠

石海伟 说：

    引用longfei的发言：

    阮老师，那个item的flex-grow属性，我写了个demo
    CSS:
    body{margin:0;}
    ul,li{margin:0; padding:0;}
    li{list-style-type:none;}
    #list{border:2px solid gold; height:500px; display:flex; flex-direction:row;}
    #list li{font-family:"microsoft yahei"; font-size:50px; background:#C00; color:#fff; margin:2px; flex-grow:1;}
    #list li:nth-child(2){flex-grow:2;}

    <ul id="list">
    <li>test1</li>
    <li>test2</li>
    <li>test3</li>
    </ul>
    结果第2个li所占的宽度并不是其它li的2倍，为什么呢？比其它两个要大，但不足2倍。

好像是按多余空间算的

两仪 说：

玉峰老师的博客真写的通熟易懂 点赞一个

卓 说：

    引用石海伟的发言：

    好像是按多余空间算的

一共有三个li元素，flex-grow:2即当前元素宽度为 父元素的2/3 并不是其他元素的两倍

卓 说：

    引用longfei的发言：

    阮老师，那个item的flex-grow属性，我写了个demo
    CSS:
    body{margin:0;}
    ul,li{margin:0; padding:0;}
    li{list-style-type:none;}
    #list{border:2px solid gold; height:500px; display:flex; flex-direction:row;}
    #list li{font-family:"microsoft yahei"; font-size:50px; background:#C00; color:#fff; margin:2px; flex-grow:1;}
    #list li:nth-child(2){flex-grow:2;}

    <ul id="list">
    <li>test1</li>
    <li>test2</li>
    <li>test3</li>
    </ul>
    结果第2个li所占的宽度并不是其它li的2倍，为什么呢？比其它两个要大，但不足2倍。

一共有三个li元素，flex-grow:2即当前元素宽度为 父元素的2/3 并不是其他元素的两倍

Mr.Luo 说：

默认好像是flex-wrap: wrap;

卓 说：

请问: 针对此属性 justify-content: space-between 3个元素为一行排列，最后多余的两个多余的元素如何让它靠左排布，事实上是左右排布了，表面看就是中间空了个元素，请看demo
1 2 3 4 5

.container {width: 400px;display: flex;justify-content: space-between;flex-flow: row wrap;
}

span {width: 110px;background-color: #f60;border-radius: 5px;margin-top: 10px;padding: 10px;
}

卓 说：

    引用卓的发言：

    请问: 针对此属性 justify-content: space-between 3个元素为一行排列，最后多余的两个多余的元素如何让它靠左排布，事实上是左右排布了，表面看就是中间空了个元素，请看demo


    1
    2
    3
    4
    5


    .container {width: 400px;display: flex;justify-content: space-between;flex-flow: row wrap;
    }

    span {width: 110px;background-color: #f60;border-radius: 5px;margin-top: 10px;padding: 10px;
    }


键盘侠 说：

我只想说这个css3的新属性flex局势一个巨坑，谁用谁知道。安卓低端机完全不支持

Yac 说：

目前发现一个问题，和@卓貌似是一个问题：
父元素：justify-content: space-between
在每排3个元素一共5个元素情况下，第五个元素怎么实现居中？
现在的效果是第1、2、3元素正常，4元素居左，5元素居右

肖德华 说：

UC浏览器设置flex：1；盒子里面加入文字 弹性盒子会被撑开要怎么解决，其他浏览器都是正常的

zw 说：

不得不说，看了半天外文网站， 不如看十分钟阮大师的。

liangwang 说：

